<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <script src="../leaflet-src.js"></script>
    <script src="Control.MiniMap.js"></script>
    <link rel="stylesheet" href="Control.MiniMap.css">

  <script>
     L.Util.isArray = function(item){ return Array.isArray(item);};

     L.Projection.Map200 = {

     	project: function (latlng) {
     		return new L.Point(latlng.lng*1.28, latlng.lat*1.28);
     	},

     	unproject: function (point) {
     		return new L.LatLng(point.y/1.28, point.x/1.28);
     	},

     	bounds: L.bounds([-100, -100], [100, 100])
     }

     L.CRS.Simple200 = L.extend({}, L.CRS, {
     	projection: L.Projection.Map200,
     	transformation: new L.Transformation(1, 128, -1, 128),

     	scale: function (zoom) {
     		return Math.pow(2, zoom);
     	},

     	zoom: function (scale) {
     		return Math.log(scale) / Math.LN2;
     	},

     	distance: function (latlng1, latlng2) {
     		var dx = latlng2.lng - latlng1.lng,
     		    dy = latlng2.lat - latlng1.lat;

     		return Math.sqrt(dx * dx + dy * dy);
     	},

     	infinite: true
     });
    </script>


    <script defer type="application/dart" src="index.dart"></script>
    <script defer src="packages/browser/dart.js"></script>

    <link rel="stylesheet" href="../leaflet.css">
    <style>
        #map {
            height: 600px;
            overflow: hidden;
            border: 1px solid red;
        }
    </style>
</head>

<body>

    <div id='map'>
    </div>
</body>

</html>
